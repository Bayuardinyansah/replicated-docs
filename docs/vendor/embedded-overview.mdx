import EmbeddedCluster from "../partials/embedded-cluster/_definition.mdx"
import KurlComparison from "../partials/embedded-cluster/_kurl-comparison.mdx"
import EmbeddedClusterReqs from "../partials/embedded-cluster/_requirements.mdx"

# About Embedded Cluster (Beta)

This topic describes how to use the Replicated Embedded Cluster to configure, install, and manage your application in an embedded Kubernetes cluster.

:::note
Embedded cluster is in beta. If you are instead looking for information about creating Kubernetes Installers with Replicated kURL, see the [Replicated kURL](/vendor/packaging-embedded-kubernetes) section.
:::

## Overview

<EmbeddedCluster/>

<KurlComparison/>

## Requirements

<EmbeddedClusterReqs/>

## Limitations

Embedded cluster has the following limitations:

* **Multi-node support is in alpha**: You can create multi-node embedded clusters, but this feature is in alpha. Only single-node embedded clusters are in beta.

* **No migration from kURL**: There is not yet a way to migrate a kURL instance to Embedded Cluster. We intend to build a migration or upgrade for kURL instances. There are many ways that this could be built, each with various tradeoffs.

* **Cannot change `spec.api` and `spec.storage` after installation**: The `spec.api` and `spec.storage` keys in the k0s config cannot be changed after installation. Whereas most keys in the k0s config apply to the whole cluster, these two keys are set for each node. Embedded cluster cannot update these keys on each individual node during updates, so they cannot be changed after installation.

* **GitOps workflow not supported**: Embedded Cluster does not support using the GitOps workflow. We do not intend to support the GitOps workflow for Embedded Cluster in the future. If an end-user is interested in GitOps, consider the Helm install method instead.

* **Cannot install behind a proxy**: Embedded Cluster cannot yet be configured to use a proxy.

## Known Issues

The following known issues exist:

* When a customer instance fetches a new version of your application, the version is rendered by the currently deployed version of KOTS. If your new application version uses functionality that the currently deployed version of KOTS doesn't support, your application version will not be rendered and cannot be upgraded to. In the interim, we are limiting new functionality introduced in KOTS that could trigger this issue, and we are working on a solution.

## kURL Feature Parity

The following features that are available in kURL are not yet available in Embedded Cluster. Unless otherwise noted, some of these features might not be available at GA:

* **Backup and restore with Velero**: Velero is not yet installed as part of Embedded Cluster, so backup and restore is unavailable.

* **Distributed storage with Rook**: OpenEBS is the only storage provider available today. We plan to introduce Rook as an alternative for multi-node clusters after GA.

* **Monitoring with Prometheus**: The Prometheus stack is not deployed as part of Embedded Cluster. No default graphs show on the Admin Console dashboard, and you cannot create custom graphs.

* **Access the Admin Console with an identity provider**: Identity provider is a beta feature that is exclusive to kURL. It is not available for Embedded Cluster installations.

:::note
If you require any of these features to use Embedded Cluster, reach out to Alex Parker at alexp@replicated.com.
:::

## Related Topics

* [Using Embedded Cluster](/vendor/embedded-configuring)
* [Embedded Cluster Config](/reference/embedded-config)
* [Managing Embedded Clusters](/enterprise/cluster-management)
* [Generating a Bundle for Embedded Cluster](/enterprise/troubleshooting-an-app#generate-a-bundle-for-embedded-cluster) in _Generating Support Bundles for KOTS Installations_
* [Downloading the Embedded Cluster Binary](/vendor/embedded-download-binary)
* [Updating Embedded Clusters](/enterprise/updating-embedded)
* [Online Installation with Embedded Cluster](/enterprise/installing-embedded)