import RepositoryCicdNote from "../partials/releases/_repository-cicd-note.mdx"
import RequiredReleasesLimitations from "../partials/releases/_required-releases-limitations.mdx"
import RequiredReleasesDescription from "../partials/releases/_required-releases-description.mdx"

# Managing Releases with the Vendor Portal

This topic describes how to use the Replicated vendor portal to create and promote versions of your application, edit releases, edit release properties, and archive releases.

<RepositoryCicdNote/>

## Create a Release

You can use standard manifest files or Helm charts to create a release. 

If you are using Helm charts, make sure that you first create the Helm chart package. For more information, see [Creating a Helm Chart Package](helm-release-creating-package).

To create and promote a release in the vendor portal:

1. From the **Applications** dropdown list, select **Create an app** or select an existing application to update.

1. Click **Releases > Create release**. 

  ![Create Release](/images/release-create-new.png)

  [View a larger image](/images/release-create-new.png)

1. Drag and drop your application files to the file directory in the YAML editor.

  You can click the plus icon to add a new, untitled YAML file.

1. Edit the YAML files as needed, and click **Save release**. This saves a draft that you can continue to edit until you promote it.
   
1. Click **Promote**. In the Promote Release dialog that opens, edit the fields:

  <table>
  <tr>
    <th width="30%">Field</th>
    <th width="70%">Description</th>
  </tr>
  <tr>
    <td>Channel</td>
    <td>Select the channel where you want to promote the release. The defaults are Stable, Beta, and Unstable. If you created custom channels, they are listed here also.</td>
  </tr>
  <tr>
    <td>Version label</td>
    <td><p>Enter a version label.</p><p>If semantic versioning is enabled for the channel, you must use a valid semantic version using the X.Y.Z format, where X is the major version, Y is the minor version, and Z is the patch version. These must be non-negative integers and cannot contain leading zeroes. Each element must increase numerically.</p><p>For more information, see <a href="releases-about#enable-semantic-versioning">Enable Semantic Versioning</a> in <i>About Releases</i> and <a href="https://semver.org/">Semantic Versioning</a> on the Semantic Versioning website.</p></td>
  </tr>
  <tr>
    <td>Requirements</td>
    <td>
      <p>Select <strong>Prevent this release from being skipped during upgrades</strong> to mark the release as required.</p>
      <p><RequiredReleasesDescription/></p>
      <p><RequiredReleasesLimitations/></p>
    </td>
  </tr>
  <tr>
    <td>Release notes</td>
    <td>Add detailed release notes. The release notes support markdown and are shown to your customer.</td>
  </tr>
</table>
  
  For more information, see <a href="releases-about#release-properties">Release Properties</a> in <em>About Releases</em>.

1. Click **Promote**.

  The release appears in an **Active** state on the Releases page.

## Edit a Draft Release

To edit a draft release:

1. From the **Applications** dropdown list, select an existing application to update.
1. On the **Releases** page, find the draft release you want to edit and click **Edit YAML**.

  <img src="/images/releases-edit-draft.png" alt="Edit YAML button for a draft release in the vendor portal" width="400"/>

  [View a larger image](/images/releases-edit-draft.png)

1. Click **Save** to save your updated draft.
1. (Optional) Click **Promote**.
  
## Edit Release Properties

You can edit the properties of a release at any time. For more information about release properties, see [Release Properties](releases-about#release-properties) in _About Releases_.

To edit release properties:

1. Go to **Channels**.
1. In the channel where the release was promoted, click **Release History**.
1. For the release sequence that you want to edit, click **Edit Release**.
1. Edit the properties as needed.
    <img src="/images/release-properties.png" alt="Release Properties dialog in the vendor portal" width="300"/>
    
    [View a larger image](/images/release-properties.png)
1. Click **Update Release**.

## Archiving Releases

You can archive releases to remove them from view on the Releases page. 

Archiving a release that has been promoted does not remove the release from the channel's Release History page or prevent KOTS from downloading the archived release.

To archive one or more releases:

1. From the Releases page, click the trash can icon in the upper right corner.
1. Select one or more releases.
1. Click **Archive Releases**.
1. Confirm the archive action when prompted. Alternatively, click **Cancel** to cancel the archiving action.