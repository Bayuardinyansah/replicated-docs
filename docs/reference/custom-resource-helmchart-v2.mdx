import VersionLimitation from "../partials/helm/_helm-version-limitation.mdx"
import HelmBuilderRequirements from "../partials/helm/_helm-builder-requirements.mdx"
import Chart from "../partials/helm/_helm-cr-chart.mdx"
import ChartName from "../partials/helm/_helm-cr-chart-name.mdx"
import ChartVersion from "../partials/helm/_helm-cr-chart-version.mdx"
import ChartReleaseName from "../partials/helm/_helm-cr-chart-release-name.mdx"
import HelmUpgradeFlags from "../partials/helm/_helm-cr-upgrade-flags.mdx"
import Values from "../partials/helm/_helm-cr-values.mdx"
import Weight from "../partials/helm/_helm-cr-weight.mdx"
import Exclude from "../partials/helm/_helm-cr-exclude.mdx"
import OptionalValues from "../partials/helm/_helm-cr-optional-values.mdx"
import OptionalValuesWhen from "../partials/helm/_helm-cr-optional-values-when.mdx"
import OptionalValuesRecursiveMerge from "../partials/helm/_helm-cr-optional-values-recursive-merge.mdx"
import Namespace from "../partials/helm/_helm-cr-namespace.mdx"
import Intro from "../partials/helm/_helm-cr-intro.mdx"
import BuilderAirgapIntro from "../partials/helm/_helm-cr-builder-airgap-intro.mdx"
import BuilderExample from "../partials/helm/_helm-cr-builder-example.mdx"
import V2Example from "../partials/helm/_v2-native-helm-cr-example.mdx"

# HelmChart v2 (Beta)

> Introduced in Replicated KOTS v1.99.0

The HelmChart v2 custom resource supports the native Helm v2 installation method.

<Intro/>

## Example

The following is an example manifest file for the HelmChart v2 custom resource:

<V2Example/>

## chart

<Chart/>

### chart.name

<ChartName/>

### chart.chartVersion

<ChartVersion/>

## releaseName

<ChartReleaseName/>

## weight

<Weight/>

## helmUpgradeFlags

<HelmUpgradeFlags/>

## values

<Values/>

## exclude

<Exclude/>

## optionalValues

<OptionalValues/>

### optionalValues[].when

<OptionalValuesWhen/>

### optionalValues[].recursiveMerge

<OptionalValuesRecursiveMerge/>

## namespace

<Namespace/>

## builder

The `builder` field is required for the following use cases:

* <BuilderAirgapIntro/>

* To support online installations that are configured to push and pull from a private registry. In this case, your customer must not enable the `--disable-image-push` flag for the `kots install` command or disable pushing the images to a registry in the admin console. By default, pushing images to a registry is enabled.

  You must provide the necessary values in the `builder` field to render the Helm chart with all of the necessary images so that KOTS knows where to pull the images from to push them into the private registry.

  If you already support an air gap installation, use the same `builder` field configuration for this online installation use case. No additional changes are needed.

<HelmBuilderRequirements/>

**Example:**

<BuilderExample/>
