import RepositoryCicdNote from "../partials/releases/_repository-cicd-note.mdx"

# Managing Releases with the CLI

This topic describes how to use the replicated CLI to create and promote versions of your application.

<RepositoryCicdNote/>

## Create a Release

Before you can create your first release with Replicated, make sure that the following requirements are met:

- Install the replicated CLI. See [Installing the replicated CLI](/reference/replicated-cli-installing).
  
- Create a new application using the `replicated app create APP_NAME` command. You only need to do this procedure one time for each application that you want to deploy. See [`app create`](/reference/replicated-cli-app-create) in _Reference_.

- If you are using Helm charts, make sure that you first create the Helm chart package. See [Creating a Helm Chart Package](helm-release-creating-package).

- Make sure that you have an application directory that contains your application files.

To create and promote a new release:

1. Export the token environment variable. The token environment variable is valid for a single session. You must export it for each new session.

1. Lint the application manifest files and ensure that there are no errors in the YAML:

  ```bash
  replicated release lint --yaml-dir=PATH_TO_APP_DIR
  ```

  Replace `PATH_TO_APP_DIR` with path to the directory of the application files.

  For more information about linting, see [release lint](/reference/replicated-cli-release-lint) and [Linter Rules](/reference/linter) in _Reference_.

1. Create a new release:

    ```bash
    replicated release create --yaml-dir PATH_TO_APP_DIR
    ```
    Replace `PATH_TO_APP_DIR` with the path to the directory of the application files.

   For more information, see [release create](/reference/replicated-cli-release-create) or [release update](/reference/replicated-cli-release-update) in _Reference_.

1. Continue to edit and lint the release as needed, then update the release:

    ```
    replicated release update SEQUENCE --yaml-dir PATH-TO-APP-DIRECTORY
    ```
    Replace:
      
    -  `SEQUENCE` with the release sequence number. This identifies the existing release to be updated.
    -  `PATH_TO_APP_DIR` with the path to the directory of the application files.

    For more information, see [release update](/reference/replicated-cli-release-update) in _Reference_.

1. Promote the release when you are ready to test it. Releases cannot be edited after they are promoted. To make changes after promotion, you have to create a new release.

    ```
    replicated release promote SEQUENCE CHANNEL_ID
    ```

    Replace:
      
    -  `SEQUENCE` with the release sequence number.
    -  `CHANNEL_ID` with the channel ID or case sensitive name of the channel.

    For more information, see [release promote](/reference/replicated-cli-release-promote) in the replicated CLI documentation.

1. Verify that the release was promoted to the channel:

  ```
  replicated release ls
  ```