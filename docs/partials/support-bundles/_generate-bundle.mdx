Support bundles are generated by providing one or more support bundle specifications with the `kubectl support-bundle` command.

For installations with the Helm CLI or with KOTS, specifications can be provided from YAML files in the local directory or from a URL. Additionally, for installations with the Helm CLI or with KOTS v1.104.0 and later, specifications can be automatically discovered in Secret or ConfigMap objects in the cluster using the `--load-cluster-specs` flag with the `kubectl support-bundle`.

For a complete list of options with the `kubectl support-bundle` command, run `kubectl support-bundle --help`. For more information, see [Collecting a Support Bundle](https://troubleshoot.sh/docs/support-bundle/collecting/) and [Discover Cluster Specs](https://troubleshoot.sh/docs/support-bundle/discover-cluster-specs/) in the Troubleshoot documentation.

The following lists some possible uses of the `kubectl support-bundle` CLI command to generate a support bundle from one or more specifications:

- Discover all specifications defined in Secrets or ConfigMaps in the cluster:

  ```bash
  kubectl support-bundle --load-cluster-specs
  ```

- Discover all specifications defined in Secrets or ConfigMaps in the cluster that match a custom label:

  ```bash
  kubectl support-bundle --load-cluster-specs -l LABEL
  ```

  Where `LABEL` is the name of the custom label.

- Provide one or more files that contain support bundle specifications:

  ```bash
  kubectl support-bundle ./PATH_TO_FILE1 ./PATH_TO_FILE2 ./PATH_TO_FILE3
  ```

  Where `PATH_TO_FILE` is the path and YAML file name for each file.

- Provide one specification that is located at a URL and another specification located in the local directory:

  ```bash
  kubectl support-bundle URL \
  ./PATH_TO_FILE 
  ```
  
  Where:

  - `URL` is the URL where the specification is located
  - `PATH_TO_FILE` is the path and YAML file name