Support bundles are generated from support bundle specifications provided by the vendor. Specification types include manifest files in the cluster, specifications that are accessible online, and specifications embedded in Kubernetes Secrets or ConfigMap objects. Your vendor can inform you of any online specifications or Kubernetes objects, if applicable.

You can generate a merged support bundle archive from multiple specifications.

When support bundle specifications are contained in Secrets or ConfigMaps, you can run an automatic discovery in the cluster and generate a merged support bundle.

You must use the support-bundle CLI to perform these tasks.

#### Discover Specifications and Generate a Bundle

You can run an automatic discovery of specifications contained in Secrets or ConfigMaps in the cluster and generate a merged support bundle using the `--load-cluster-specs` flag. This can be easier than manually typing each specification on the command line.

Run the following command to generate a bundle with all of the specifications discovered in the cluster:

  ```bash
  kubectl support-bundle --load-cluster-specs
  ```
The `--load-cluster-specs` flag can be combined with multiple specifications, such as URLs or specifications that match a custom label. For more information, see [Discover Cluster Specs](https://troubleshoot.sh/docs/support-bundle/discover-cluster-specs/) in the Troubleshoot documentation.

#### Generate from Multiple Specifications

You can generate a merged support bundle from any combination of the support bundle specification types. For more information, see [Collect a Support Bundle Using Multiple Specs](https://troubleshoot.sh/docs/support-bundle/collecting/#collect-a-support-bundle-using-multiple-specs) in the Troubleshoot documentation.

The following examples show some possible combinations:

- Using multiple files:

  ```bash
  kubectl support-bundle ./PATH_TO_FILE1 ./PATH_TO_FILE2 ./PATH_TO_FILE3
  ```

  Replace `PATH_TO_FILE` with the path and YAML file name for each file.

  **Example:**

  ```bash
  kubectl support-bundle manifests/redis/troubleshoot.yaml manifests/mysql/troubleshoot.yaml manifests/nginx/troubleshoot.yaml
  ```

- Using a URL and a specification in the cluster:

  ```bash
  kubectl support-bundle URL \
  ./PATH_TO_FILE 
  ```
  
  Replace:

  - `URL` with the online specification location provided by your vendor
  - `PATH_TO_FILE` with the path and YAML file name

  **Example:**
  
  ```bash
  kubectl support-bundle https://raw.githubusercontent.com/replicatedhq/troubleshoot-specs/main/in-cluster/default.yaml \
  ./support-bundle-spec-1.yaml
  ```  